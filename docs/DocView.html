<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SelfAdjusting_I2C Library - Documentation</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #64748b;
            --accent-color: #0ea5e9;
            --bg-color: #ffffff;
            --surface-color: #f8fafc;
            --text-color: #1e293b;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
            --code-bg: #f1f5f9;
            --sidebar-width: 280px;
            --header-height: 60px;
        }

        [data-theme="dark"] {
            --bg-color: #0f172a;
            --surface-color: #1e293b;
            --text-color: #f1f5f9;
            --text-muted: #94a3b8;
            --border-color: #334155;
            --code-bg: #334155;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: var(--surface-color);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .search-box {
            position: relative;
        }

        .search-input {
            padding: 8px 35px 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 14px;
            width: 250px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-icon {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }

        .theme-toggle {
            background: none;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 8px 12px;
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--surface-color);
        }

        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background: var(--surface-color);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            padding: 20px;
            z-index: 100;
        }

        .toc {
            list-style: none;
        }

        .toc li {
            margin-bottom: 8px;
        }

        .toc a {
            display: block;
            padding: 8px 12px;
            color: var(--text-muted);
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .toc a:hover {
            background: var(--bg-color);
            color: var(--text-color);
        }

        .toc a.active {
            background: var(--primary-color);
            color: white;
        }

        .toc .sub-item {
            margin-left: 20px;
            font-size: 13px;
        }

        .main-content {
            margin-left: var(--sidebar-width);
            padding: calc(var(--header-height) + 40px) 40px 40px;
            max-width: 900px;
        }

        .section {
            margin-bottom: 40px;
            scroll-margin-top: calc(var(--header-height) + 20px);
        }

        .section h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .section h2 {
            font-size: 2rem;
            font-weight: 600;
            margin: 30px 0 15px;
            color: var(--text-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
        }

        .section h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 25px 0 12px;
            color: var(--text-color);
        }

        .section h4 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 20px 0 10px;
            color: var(--text-color);
        }

        .section p {
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .section ul, .section ol {
            margin: 15px 0;
            padding-left: 25px;
        }

        .section li {
            margin-bottom: 8px;
            color: var(--text-color);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .feature-card h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .code-block {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.5;
        }

        .code-block code {
            color: var(--text-color);
        }

        .inline-code {
            background: var(--code-bg);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
            color: var(--primary-color);
        }

        .table-container {
            overflow-x: auto;
            margin: 20px 0;
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--surface-color);
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--code-bg);
            font-weight: 600;
            color: var(--text-color);
        }

        .collapsible {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin: 15px 0;
            overflow: hidden;
        }

        .collapsible-header {
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--code-bg);
            transition: all 0.3s ease;
        }

        .collapsible-header:hover {
            background: var(--border-color);
        }

        .collapsible-content {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .collapsible.active .collapsible-content {
            padding: 20px;
            max-height: 1000px;
        }

        .collapsible-arrow {
            transition: transform 0.3s ease;
        }

        .collapsible.active .collapsible-arrow {
            transform: rotate(180deg);
        }

        .highlight {
            background: rgba(255, 255, 0, 0.3);
            padding: 2px 4px;
            border-radius: 3px;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-color);
            font-size: 1.5rem;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block;
            }

            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: calc(var(--header-height) + 20px) 20px 20px;
            }

            .search-input {
                width: 180px;
            }

            .header h1 {
                font-size: 1.2rem;
            }
        }

        .badge {
            display: inline-block;
            padding: 4px 8px;
            background: var(--primary-color);
            color: white;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
            margin-left: 8px;
        }

        .warning {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #92400e;
        }

        [data-theme="dark"] .warning {
            background: #451a03;
            border-color: #f59e0b;
            color: #fbbf24;
        }
    </style>
</head>
<body>
    <header class="header">
        <div style="display: flex; align-items: center; gap: 15px;">
            <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>
            <h1>SelfAdjusting_I2C Library</h1>
        </div>
        <div class="header-controls">
            <div class="search-box">
                <input type="text" class="search-input" placeholder="Search documentation..." oninput="searchContent(this.value)">
                <span class="search-icon">üîç</span>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()">üåì</button>
        </div>
    </header>

    <nav class="sidebar" id="sidebar">
        <ul class="toc">
            <li><a href="#overview" onclick="scrollToSection('overview')">Overview</a></li>
            <li><a href="#features" onclick="scrollToSection('features')">Features</a></li>
            <li class="sub-item"><a href="#intelligent-optimization" onclick="scrollToSection('intelligent-optimization')">Intelligent Optimization</a></li>
            <li class="sub-item"><a href="#error-recovery" onclick="scrollToSection('error-recovery')">Error Recovery</a></li>
            <li class="sub-item"><a href="#performance-monitoring" onclick="scrollToSection('performance-monitoring')">Performance Monitoring</a></li>
            <li class="sub-item"><a href="#advanced-configuration" onclick="scrollToSection('advanced-configuration')">Advanced Configuration</a></li>
            <li><a href="#installation" onclick="scrollToSection('installation')">Installation</a></li>
            <li><a href="#quick-start" onclick="scrollToSection('quick-start')">Quick Start</a></li>
            <li><a href="#api-reference" onclick="scrollToSection('api-reference')">API Reference</a></li>
            <li class="sub-item"><a href="#core-functions" onclick="scrollToSection('core-functions')">Core Functions</a></li>
            <li class="sub-item"><a href="#configuration-functions" onclick="scrollToSection('configuration-functions')">Configuration Functions</a></li>
            <li class="sub-item"><a href="#device-management" onclick="scrollToSection('device-management')">Device Management</a></li>
            <li class="sub-item"><a href="#recovery-functions" onclick="scrollToSection('recovery-functions')">Recovery Functions</a></li>
            <li class="sub-item"><a href="#monitoring-functions" onclick="scrollToSection('monitoring-functions')">Monitoring Functions</a></li>
            <li><a href="#performance-metrics" onclick="scrollToSection('performance-metrics')">Performance Metrics</a></li>
            <li><a href="#supported-speeds" onclick="scrollToSection('supported-speeds')">Supported Clock Speeds</a></li>
            <li><a href="#supported-rise-times" onclick="scrollToSection('supported-rise-times')">Supported Rise Times</a></li>
            <li><a href="#error-codes" onclick="scrollToSection('error-codes')">Error Codes</a></li>
            <li><a href="#hardware-compatibility" onclick="scrollToSection('hardware-compatibility')">Hardware Compatibility</a></li>
            <li><a href="#memory-usage" onclick="scrollToSection('memory-usage')">Memory Usage</a></li>
            <li><a href="#advanced-usage" onclick="scrollToSection('advanced-usage')">Advanced Usage</a></li>
            <li><a href="#troubleshooting" onclick="scrollToSection('troubleshooting')">Troubleshooting</a></li>
            <li><a href="#contributing" onclick="scrollToSection('contributing')">Contributing</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <section id="overview" class="section">
            <h1>SelfAdjusting_I2C Library</h1>
            <p>A comprehensive Arduino library that enhances the standard Wire.h library with intelligent, self-adjusting I2C timing optimization, error recovery, and performance monitoring.</p>
        </section>

        <section id="features" class="section">
            <h2>Features</h2>
            <div class="feature-grid">
                <div class="feature-card" id="intelligent-optimization">
                    <h4>üß† Intelligent Optimization</h4>
                    <ul>
                        <li><strong>Mini AI Algorithm</strong>: Automatically determines optimal I2C settings during runtime</li>
                        <li><strong>Adaptive Timing</strong>: Self-adjusting <code class="inline-code">WIRE_RISE_TIME_NANOSECONDS</code> and <code class="inline-code">Wire.setClock</code> values</li>
                        <li><strong>Performance Learning</strong>: Continuously learns and adapts to your specific hardware configuration</li>
                        <li><strong>Device-Specific Optimization</strong>: Individual settings for different I2C devices</li>
                    </ul>
                </div>
                <div class="feature-card" id="error-recovery">
                    <h4>üõ°Ô∏è Error Recovery</h4>
                    <ul>
                        <li><strong>Emergency Recovery</strong>: Automatic fallback to safe configurations on errors</li>
                        <li><strong>Incremental Recovery</strong>: Gradual adjustment when errors occur</li>
                        <li><strong>Hardware Reset</strong>: Complete I2C bus reset capability</li>
                        <li><strong>Error Pattern Analysis</strong>: Learns from error patterns to prevent future issues</li>
                    </ul>
                </div>
                <div class="feature-card" id="performance-monitoring">
                    <h4>üìä Performance Monitoring</h4>
                    <ul>
                        <li><strong>Real-time Metrics</strong>: Success rates, transaction times, error rates</li>
                        <li><strong>Performance Scoring</strong>: Quantitative performance evaluation</li>
                        <li><strong>Trend Analysis</strong>: Historical performance tracking</li>
                        <li><strong>Diagnostic Tools</strong>: Comprehensive debugging and monitoring</li>
                    </ul>
                </div>
                <div class="feature-card" id="advanced-configuration">
                    <h4>‚öôÔ∏è Advanced Configuration</h4>
                    <ul>
                        <li><strong>Multiple Clock Speeds</strong>: 100kHz to 3.4MHz support</li>
                        <li><strong>Variable Rise Times</strong>: 50ns to 300ns options (optimized for 3.3V systems)</li>
                        <li><strong>Learning Modes</strong>: Adaptive behavior configuration</li>
                        <li><strong>Cooldown Periods</strong>: Configurable adjustment intervals</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="installation" class="section">
            <h2>Installation</h2>
            <ol>
                <li>Download or clone this repository</li>
                <li>Copy the <code class="inline-code">Self_Adjusing_i2c</code> folder to your Arduino libraries directory:
                    <ul>
                        <li><strong>Windows</strong>: <code class="inline-code">Documents\Arduino\libraries\</code></li>
                        <li><strong>macOS</strong>: <code class="inline-code">~/Documents/Arduino/libraries/</code></li>
                        <li><strong>Linux</strong>: <code class="inline-code">~/Arduino/libraries/</code></li>
                    </ul>
                </li>
                <li>Restart the Arduino IDE</li>
                <li>Include the library in your sketch: <code class="inline-code">#include "SelfAdjusting_I2C.h"</code></li>
            </ol>
        </section>

        <section id="quick-start" class="section">
            <h2>Quick Start</h2>
            <div class="code-block">
                <code>#include "SelfAdjusting_I2C.h"

void setup() {
  Serial.begin(115200);
  
  // Initialize the self-adjusting I2C library
  SmartWire.begin();
  
  // Enable adaptive features
  SmartWire.enableLearningMode(true);
  SmartWire.enableAdaptiveMode(true);
  
  // Scan and optimize for connected devices
  SmartWire.scanAndOptimize();
}

void loop() {
  // Use SmartWire exactly like Wire
  SmartWire.beginTransmission(0x48);
  SmartWire.write(0x00);
  uint8_t result = SmartWire.endTransmission();
  
  // Let the library optimize in the background
  SmartWire.update();
  
  delay(1000);
}</code>
            </div>
        </section>

        <section id="api-reference" class="section">
            <h2>API Reference</h2>
            
            <div class="collapsible" id="core-functions">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3>Core Functions</h3>
                    <span class="collapsible-arrow">‚ñº</span>
                </div>
                <div class="collapsible-content">
                    <h4><code class="inline-code">void begin()</code></h4>
                    <p>Initializes the self-adjusting I2C library with default settings.</p>
                    
                    <h4><code class="inline-code">void update()</code></h4>
                    <p>Performs background optimization and monitoring. Call this regularly in your main loop.</p>
                    
                    <h4><code class="inline-code">uint8_t beginTransmission(uint8_t address)</code></h4>
                    <p>Starts I2C transmission to specified device. Returns error code.</p>
                    
                    <h4><code class="inline-code">uint8_t endTransmission(bool sendStop = true)</code></h4>
                    <p>Ends I2C transmission. Returns error code (0 = success).</p>
                    
                    <h4><code class="inline-code">size_t write(uint8_t data)</code></h4>
                    <p>Writes a byte to the I2C bus.</p>
                    
                    <h4><code class="inline-code">uint8_t requestFrom(uint8_t address, uint8_t quantity, bool sendStop = true)</code></h4>
                    <p>Requests data from I2C device.</p>
                    
                    <h4><code class="inline-code">int read()</code></h4>
                    <p>Reads a byte from the I2C bus.</p>
                </div>
            </div>

            <div class="collapsible" id="configuration-functions">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3>Configuration Functions</h3>
                    <span class="collapsible-arrow">‚ñº</span>
                </div>
                <div class="collapsible-content">
                    <h4><code class="inline-code">void enableLearningMode(bool enable)</code></h4>
                    <p>Enables/disables learning mode for automatic optimization.</p>
                    
                    <h4><code class="inline-code">void enableAdaptiveMode(bool enable)</code></h4>
                    <p>Enables/disables adaptive behavior based on performance metrics.</p>
                    
                    <h4><code class="inline-code">void setAdaptationRate(uint8_t rate)</code></h4>
                    <p>Sets adaptation aggressiveness (1-10, higher = more aggressive).</p>
                    
                    <h4><code class="inline-code">void setClockSpeed(uint32_t clockSpeed)</code></h4>
                    <p>Manually sets I2C clock speed in Hz.</p>
                    
                    <h4><code class="inline-code">void setRiseTime(uint16_t riseTimeNs)</code></h4>
                    <p>Manually sets rise time in nanoseconds.</p>
                    
                    <h4><code class="inline-code">void setCooldownPeriod(uint32_t milliseconds)</code></h4>
                    <p>Sets minimum time between automatic adjustments.</p>
                </div>
            </div>

            <div class="collapsible" id="device-management">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3>Device Management</h3>
                    <span class="collapsible-arrow">‚ñº</span>
                </div>
                <div class="collapsible-content">
                    <h4><code class="inline-code">void scanAndOptimize()</code></h4>
                    <p>Scans I2C bus for devices and optimizes settings for all found devices.</p>
                    
                    <h4><code class="inline-code">void setDeviceSpecificConfig(uint8_t address, uint32_t clockSpeed, uint16_t riseTime)</code></h4>
                    <p>Sets custom configuration for a specific device.</p>
                    
                    <h4><code class="inline-code">void removeDeviceConfig(uint8_t address)</code></h4>
                    <p>Removes device-specific configuration.</p>
                </div>
            </div>

            <div class="collapsible" id="recovery-functions">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3>Recovery Functions</h3>
                    <span class="collapsible-arrow">‚ñº</span>
                </div>
                <div class="collapsible-content">
                    <h4><code class="inline-code">void forceOptimization()</code></h4>
                    <p>Forces immediate optimization regardless of cooldown period.</p>
                    
                    <h4><code class="inline-code">void resetToDefaults()</code></h4>
                    <p>Resets all settings to conservative defaults.</p>
                    
                    <h4><code class="inline-code">void resetLearning()</code></h4>
                    <p>Clears learning history while keeping current configuration.</p>
                    
                    <h4><code class="inline-code">void enableEmergencyRecovery(bool enable)</code></h4>
                    <p>Enables/disables automatic emergency recovery on errors.</p>
                </div>
            </div>

            <div class="collapsible" id="monitoring-functions">
                <div class="collapsible-header" onclick="toggleCollapsible(this)">
                    <h3>Monitoring Functions</h3>
                    <span class="collapsible-arrow">‚ñº</span>
                </div>
                <div class="collapsible-content">
                    <h4><code class="inline-code">I2CPerformanceMetrics getMetrics()</code></h4>
                    <p>Returns current performance metrics.</p>
                    
                    <h4><code class="inline-code">float getPerformanceScore()</code></h4>
                    <p>Returns current performance score (0-100).</p>
                    
                    <h4><code class="inline-code">uint32_t getCurrentClockSpeed()</code></h4>
                    <p>Returns current I2C clock speed.</p>
                    
                    <h4><code class="inline-code">uint16_t getCurrentRiseTime()</code></h4>
                    <p>Returns current rise time setting.</p>
                    
                    <h4><code class="inline-code">void printDiagnostics()</code></h4>
                    <p>Prints comprehensive diagnostic information to Serial.</p>
                    
                    <h4><code class="inline-code">void printDeviceConfigs()</code></h4>
                    <p>Prints device-specific configurations to Serial.</p>
                </div>
            </div>
        </section>

        <section id="performance-metrics" class="section">
            <h2>Performance Metrics</h2>
            <p>The library tracks several key performance indicators:</p>
            <ul>
                <li><strong>Success Rate</strong>: Percentage of successful I2C transactions</li>
                <li><strong>Error Rate</strong>: Percentage of failed transactions</li>
                <li><strong>Average Transaction Time</strong>: Mean time per I2C operation</li>
                <li><strong>Performance Score</strong>: Composite score (0-100) based on all metrics</li>
                <li><strong>Consecutive Errors</strong>: Number of consecutive failed operations</li>
            </ul>
        </section>

        <section id="supported-speeds" class="section">
            <h2>Supported Clock Speeds</h2>
            <ul>
                <li><strong>100 kHz</strong> - Standard mode (default)</li>
                <li><strong>400 kHz</strong> - Fast mode</li>
                <li><strong>1 MHz</strong> - Fast mode plus</li>
                <li><strong>3.4 MHz</strong> - High-speed mode</li>
            </ul>
        </section>

        <section id="supported-rise-times" class="section">
            <h2>Supported Rise Times</h2>
            <ul>
                <li><strong>50 ns</strong> - Maximum performance for 2kŒ© resistors or lower</li>
                <li><strong>65 ns</strong> - Very aggressive for 2.4kŒ© resistors</li>
                <li><strong>75 ns</strong> - Aggressive for 2.7kŒ© resistors</li>
                <li><strong>80 ns</strong> - Optimal default for most 3.3V systems</li>
                <li><strong>120 ns</strong> - Moderate setting</li>
                <li><strong>300 ns</strong> - Conservative rise time for legacy 5V systems or noisy environments</li>
            </ul>
        </section>

        <section id="error-codes" class="section">
            <h2>Error Codes</h2>
            <ul>
                <li><code class="inline-code">0</code> - Success</li>
                <li><code class="inline-code">1</code> - Data too long for transmit buffer</li>
                <li><code class="inline-code">2</code> - Received NACK on transmit of address</li>
                <li><code class="inline-code">3</code> - Received NACK on transmit of data</li>
                <li><code class="inline-code">4</code> - Other error</li>
                <li><code class="inline-code">5</code> - Timeout</li>
            </ul>
        </section>

        <section id="hardware-compatibility" class="section">
            <h2>Hardware Compatibility</h2>
            <h3>Tested Platforms</h3>
            <ul>
                <li>Arduino Uno/Nano (ATmega328P)</li>
                <li>Arduino Mega (ATmega2560)</li>
                <li>ESP8266</li>
                <li>ESP32</li>
                <li>Arduino Pro Mini</li>
            </ul>
            <h3>Requirements</h3>
            <ul>
                <li>Pull-up resistors on SDA/SCL lines (typically 4.7kŒ© for 5v systems)</li>
                <li>Pull-up resistors on SDA/SCL lines (typically 2.4kŒ© for 3.3v systems)</li>
                <li>Stable power supply</li>
                <li>Proper I2C device connections</li>
            </ul>
        </section>

        <section id="memory-usage" class="section">
            <h2>Memory Usage</h2>
            <p>The library is designed to be memory-efficient. Below are the measured memory consumption values for basic library usage (<code class="inline-code">SmartWire.begin()</code>, <code class="inline-code">write()</code>, and <code class="inline-code">requestFrom()</code> calls) across different Arduino platforms:</p>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Platform</th>
                            <th>Program Storage</th>
                            <th>Dynamic Memory</th>
                            <th>IRAM</th>
                            <th>Flash</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ESP8266</strong></td>
                            <td>242,708 bytes (23%)</td>
                            <td>30,092 bytes (37%)</td>
                            <td>60,423 bytes (92%)</td>
                            <td>1,048,576 bytes total</td>
                        </tr>
                        <tr>
                            <td><strong>ESP32</strong></td>
                            <td>324,507 bytes (24%)</td>
                            <td>23,304 bytes (7%)</td>
                            <td>-</td>
                            <td>1,310,720 bytes total</td>
                        </tr>
                        <tr>
                            <td><strong>Arduino Uno</strong></td>
                            <td>9,762 bytes (30%)</td>
                            <td>1,409 bytes (68%)</td>
                            <td>-</td>
                            <td>32,256 bytes total</td>
                        </tr>
                        <tr>
                            <td><strong>Arduino Nano</strong></td>
                            <td>9,762 bytes (30%)</td>
                            <td>1,409 bytes (68%)</td>
                            <td>-</td>
                            <td>32,256 bytes total</td>
                        </tr>
                        <tr>
                            <td><strong>Arduino Mega</strong></td>
                            <td>10,496 bytes (4%)</td>
                            <td>1,409 bytes (17%)</td>
                            <td>-</td>
                            <td>258,048 bytes total</td>
                        </tr>
                        <tr>
                            <td><strong>Arduino Pro Mini</strong></td>
                            <td>9,762 bytes (31%)</td>
                            <td>1,409 bytes (68%)</td>
                            <td>-</td>
                            <td>32,256 bytes total</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="warning">
                <h4>Memory Usage Notes:</h4>
                <ul>
                    <li><strong>ESP8266</strong>: High IRAM usage (92%) due to platform requirements, but still functional</li>
                    <li><strong>ESP32</strong>: Excellent memory efficiency with moderate program storage (24%) and low dynamic memory usage (7%)</li>
                    <li><strong>Arduino Uno/Nano/Pro Mini</strong>: Moderate program storage (30-31%) and high dynamic memory usage (68%)</li>
                    <li><strong>Arduino Mega</strong>: Low program storage usage (4%) with plenty of memory available</li>
                    <li><strong>Maximum Devices</strong>: 8 (configurable)</li>
                    <li><strong>Additional RAM</strong>: ~200-300 bytes for performance tracking (depending on device count)</li>
                </ul>
            </div>
        </section>

        <section id="advanced-usage" class="section">
            <h2>Advanced Usage</h2>
            
            <h3>Custom Device Configuration</h3>
            <div class="code-block">
                <code>// Set slower speed for sensitive sensor
SmartWire.setDeviceSpecificConfig(0x48, 100000, 300); // 100kHz, 300ns

// Set faster speed for robust display
SmartWire.setDeviceSpecificConfig(0x3C, 400000, 80);  // 400kHz, 80ns</code>
            </div>
            
            <h3>Performance Monitoring</h3>
            <div class="code-block">
                <code>void checkPerformance() {
  I2CPerformanceMetrics metrics = SmartWire.getMetrics();
  
  Serial.print("Success Rate: ");
  Serial.print(100.0 * metrics.successfulTransactions / 
              (metrics.successfulTransactions + metrics.failedTransactions));
  Serial.println("%");
  
  Serial.print("Performance Score: ");
  Serial.println(SmartWire.getPerformanceScore());
}</code>
            </div>
            
            <h3>Error Recovery Configuration</h3>
            <div class="code-block">
                <code>void setupErrorRecovery() {
  SmartWire.enableEmergencyRecovery(true);
  SmartWire.setCooldownPeriod(3000);  // 3 second cooldown
  SmartWire.setAdaptationRate(7);     // Aggressive adaptation
}</code>
            </div>
        </section>

        <section id="troubleshooting" class="section">
            <h2>Troubleshooting</h2>
            
            <h3>Common Issues</h3>
            <ol>
                <li><strong>No devices found during scan</strong>
                    <ul>
                        <li>Check wiring connections</li>
                        <li>Verify pull-up resistors are installed</li>
                        <li>Ensure devices are powered</li>
                    </ul>
                </li>
                <li><strong>High error rates</strong>
                    <ul>
                        <li>Check for electrical noise</li>
                        <li>Verify cable lengths are appropriate</li>
                        <li>Consider lower clock speeds</li>
                    </ul>
                </li>
                <li><strong>Frequent resets to defaults</strong>
                    <ul>
                        <li>Increase cooldown period</li>
                        <li>Reduce adaptation rate</li>
                        <li>Check for intermittent connections</li>
                    </ul>
                </li>
            </ol>
            
            <h3>Debug Mode</h3>
            <p>Enable verbose diagnostics:</p>
            <div class="code-block">
                <code>void setup() {
  Serial.begin(115200);
  SmartWire.begin();
  
  // Print diagnostics every 10 seconds
  // (implement in your main loop)
}

void loop() {
  static unsigned long lastDiag = 0;
  if (millis() - lastDiag > 10000) {
    SmartWire.printDiagnostics();
    lastDiag = millis();
  }
  
  SmartWire.update();
}</code>
            </div>
        </section>

        <section id="contributing" class="section">
            <h2>Contributing</h2>
            <p>Contributions are welcome! Please:</p>
            <ol>
                <li>Fork the repository</li>
                <li>Create a feature branch</li>
                <li>Make your changes</li>
                <li>Add tests if applicable</li>
                <li>Submit a pull request</li>
            </ol>
            
            <h3>License</h3>
            <p>This library is released under the MIT License. See LICENSE file for details.</p>
            
            <h3>Support</h3>
            <p>For support, please:</p>
            <ol>
                <li>Check the troubleshooting section</li>
                <li>Review the example code</li>
                <li>Open an issue on GitHub</li>
            </ol>
        </section>
    </main>

    <script>
        // Theme management
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.body.setAttribute('data-theme', savedTheme);
        }

        // Sidebar management
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('open');
        }

        // Smooth scrolling and navigation
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
                updateActiveNavItem(sectionId);
                
                // Close sidebar on mobile
                if (window.innerWidth <= 768) {
                    document.getElementById('sidebar').classList.remove('open');
                }
            }
        }

        function updateActiveNavItem(activeId) {
            const navLinks = document.querySelectorAll('.toc a');
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + activeId) {
                    link.classList.add('active');
                }
            });
        }

        // Search functionality
        function searchContent(query) {
            const sections = document.querySelectorAll('.section');
            const searchQuery = query.toLowerCase().trim();
            
            // Clear previous highlights
            clearHighlights();
            
            if (searchQuery === '') {
                sections.forEach(section => {
                    section.style.display = 'block';
                });
                return;
            }
            
            let hasResults = false;
            
            sections.forEach(section => {
                const content = section.textContent.toLowerCase();
                if (content.includes(searchQuery)) {
                    section.style.display = 'block';
                    highlightText(section, searchQuery);
                    hasResults = true;
                } else {
                    section.style.display = 'none';
                }
            });
            
            if (!hasResults) {
                // Show a "no results" message or reset view
                sections.forEach(section => {
                    section.style.display = 'block';
                });
            }
        }

        function highlightText(element, query) {
            const walker = document.createTreeWalker(
                element,
                NodeFilter.SHOW_TEXT,
                null,
                false
            );
            
            const textNodes = [];
            let node;
            
            while (node = walker.nextNode()) {
                if (node.textContent.toLowerCase().includes(query)) {
                    textNodes.push(node);
                }
            }
            
            textNodes.forEach(textNode => {
                const parent = textNode.parentNode;
                if (parent.tagName !== 'SCRIPT' && parent.tagName !== 'STYLE') {
                    const text = textNode.textContent;
                    const regex = new RegExp(`(${query})`, 'gi');
                    const highlightedText = text.replace(regex, '<span class="highlight">$1</span>');
                    
                    if (highlightedText !== text) {
                        const wrapper = document.createElement('span');
                        wrapper.innerHTML = highlightedText;
                        parent.replaceChild(wrapper, textNode);
                    }
                }
            });
        }

        function clearHighlights() {
            const highlights = document.querySelectorAll('.highlight');
            highlights.forEach(highlight => {
                const parent = highlight.parentNode;
                parent.replaceChild(document.createTextNode(highlight.textContent), highlight);
                parent.normalize();
            });
        }

        // Collapsible sections
        function toggleCollapsible(header) {
            const collapsible = header.parentElement;
            collapsible.classList.toggle('active');
        }

        // Intersection Observer for active navigation
        function setupIntersectionObserver() {
            const sections = document.querySelectorAll('.section');
            const options = {
                rootMargin: '-60px 0px -80% 0px',
                threshold: 0
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        updateActiveNavItem(entry.target.id);
                    }
                });
            }, options);
            
            sections.forEach(section => {
                observer.observe(section);
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadTheme();
            setupIntersectionObserver();
            
            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', function(e) {
                const sidebar = document.getElementById('sidebar');
                const mobileBtn = document.querySelector('.mobile-menu-btn');
                
                if (window.innerWidth <= 768 && 
                    !sidebar.contains(e.target) && 
                    !mobileBtn.contains(e.target)) {
                    sidebar.classList.remove('open');
                }
            });
        });
    </script>
</body>
</html>